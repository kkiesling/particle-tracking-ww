# for submitting mcnp runs
universe = vanilla
+SingularityImage="/software/kkiesling/dagmcnpww.sing"
requirements = HasSingularity && HasCHTCSoftware && (TARGET.HasChtcStaging == true)
log = logs/wwig_rough_$(Cluster)_r$(r).log
error = logs/wwig_rough_$(Cluster)_r$(r).err
output = logs/wwig_rough_$(Cluster)_r$(r).out

# executable environment
environment = "DATAPATH=/staging/kkiesling/MCNP_DATA"
executable = run_wwig_refine.sh
arguments = $(r)

# input/output
should_transfer_files = YES
when_to_transfer_output = ON_EXIT
transfer_input_files = ../../inputs/wwig_slab.inp,../../wwigs_slab/rougher/$(r),run_wwig_refine.sh
#transfer_executable = False
transfer_output_files = outp,meshtal,ww_checks
# preserve_relative_paths = True
transfer_output_remaps = "outp=wwig_rough/$(r)/outp ; meshtal=wwig_rough/$(r)/meshtal ; ww_checks=wwig_rough/$(r)/ww_checks"

# request resources
request_cpus = 1
request_memory = 1GB
request_disk = 100MB

# notify by email
notification = Always
notify_user = kkiesling@wisc.edu

queue r from 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0 1.1 1.2 1.3 1.4 1.5
